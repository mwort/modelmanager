{% extends "admin/change_list.html" %}
{% load static %}

{% block extrastyle %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'style.css' %}" />
  <style media="screen">
  /* split divs side by side */
  #content-main {
    width: 34%;
    min-width: 400px;
  }
  #content-results {
    float: right;
    width: 64%;
    min-width: 440px;
  }
  /* constrain looong function list */
  #changelist-form .results {
    max-height: 500px;
  }
  #searchbar {
    width: 50%;
  }
  </style>
{% endblock %}


{% block content %}
{{ block.super }}

<div id="content-results" class="module">
  <h2>Results</h2>
  <div id="results" class='pre'>
    Select configured function.
  </div>
</div>


<script src="{% static 'api.js' %}" charset="utf-8"></script>
<script type="text/javascript">
// remove 'Select function to change'
django.jQuery('#content h1').remove();

django.jQuery("a[action='call']").click(function(e) {
    e.preventDefault();
    var id = django.jQuery(this).attr('name');
    call_function(id+'/call', '#results');
});
</script>
{% endblock %}
